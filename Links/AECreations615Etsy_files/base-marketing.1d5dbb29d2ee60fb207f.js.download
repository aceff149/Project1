// For license information, please see: https://www.etsy.com/ac/evergreenVendor/js/en-US/common/web-toolkit/base-marketing.1d5dbb29d2ee60fb207f.js.LICENSE
(()=>{var t={67470:(t,e)=>{var i,n;(function(t,e,i){var n=[];var o={_version:"3.3.1",_config:{classPrefix:"",enableClasses:true,enableJSClass:true,usePrefixes:true},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){n.push({name:t,fn:e,options:i})},addAsyncTest:function(t){n.push({name:null,fn:t})}};var r=function(){};r.prototype=o;r=new r;var s=[];function a(t,e){return typeof t===e}function l(){var t;var e;var i;var o;var l;var c;var u;for(var h in n)if(n.hasOwnProperty(h)){t=[];e=n[h];if(e.name){t.push(e.name.toLowerCase());if(e.options&&e.options.aliases&&e.options.aliases.length)for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase())}o=a(e.fn,"function")?e.fn():e.fn;for(l=0;l<t.length;l++){c=t[l];u=c.split(".");if(1===u.length)r[u[0]]=o;else{!r[u[0]]||r[u[0]]instanceof Boolean||(r[u[0]]=new Boolean(r[u[0]]));r[u[0]][u[1]]=o}s.push((o?"":"no-")+u.join("-"))}}}function c(t){return t.replace(/([a-z])-([a-z])/g,(function(t,e,i){return e+i.toUpperCase()})).replace(/^-/,"")}var u="Moz O ms Webkit";var h=o._config.usePrefixes?u.split(" "):[];o._cssomPrefixes=h;var d=function(e){var n=prefixes.length;var o=t.CSSRule;var r;if("undefined"===typeof o)return i;if(!e)return false;e=e.replace(/^@/,"");r=e.replace(/-/g,"_").toUpperCase()+"_RULE";if(r in o)return"@"+e;for(var s=0;s<n;s++){var a=prefixes[s];var l=a.toUpperCase()+"_"+r;if(l in o)return"@-"+a.toLowerCase()+"-"+e}return false};o.atRule=d;var f=o._config.usePrefixes?u.toLowerCase().split(" "):[];o._domPrefixes=f;function p(t,e){return!!~(""+t).indexOf(e)}function v(t,e){return function(){return t.apply(e,arguments)}}function y(t,e,i){var n;for(var o in t)if(t[o]in e){if(false===i)return t[o];n=e[t[o]];if(a(n,"function"))return v(n,i||e);return n}return false}function g(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-")}var w=e.documentElement;var m="svg"===w.nodeName.toLowerCase();function _(){return"function"!==typeof e.createElement?e.createElement(arguments[0]):m?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}var b={elem:_("modernizr")};r._q.push((function(){delete b.elem}));var x={style:b.elem.style};r._q.unshift((function(){delete x.style}));function A(){var t=e.body;if(!t){t=_(m?"svg":"body");t.fake=true}return t}function S(t,i,n,o){var r="modernizr";var s;var a;var l;var c;var u=_("div");var h=A();if(parseInt(n,10))while(n--){l=_("div");l.id=o?o[n]:r+(n+1);u.appendChild(l)}s=_("style");s.type="text/css";s.id="s"+r;(h.fake?h:u).appendChild(s);h.appendChild(u);s.styleSheet?s.styleSheet.cssText=t:s.appendChild(e.createTextNode(t));u.id=r;if(h.fake){h.style.background="";h.style.overflow="hidden";c=w.style.overflow;w.style.overflow="hidden";w.appendChild(h)}a=i(u,t);if(h.fake){h.parentNode.removeChild(h);w.style.overflow=c;w.offsetHeight}else u.parentNode.removeChild(u);return!!a}function C(e,n){var o=e.length;if("CSS"in t&&"supports"in t.CSS){while(o--)if(t.CSS.supports(g(e[o]),n))return true;return false}if("CSSSupportsRule"in t){var r=[];while(o--)r.push("("+g(e[o])+":"+n+")");r=r.join(" or ");return S("@supports ("+r+") { #modernizr { position: absolute; } }",(function(t){return"absolute"==getComputedStyle(t,null).position}))}return i}function k(t,e,n,o){o=!a(o,"undefined")&&o;if(!a(n,"undefined")){var r=C(t,n);if(!a(r,"undefined"))return r}var s,l,u,h,d;var f=["modernizr","tspan","samp"];while(!x.style&&f.length){s=true;x.modElem=_(f.shift());x.style=x.modElem.style}function v(){if(s){delete x.style;delete x.modElem}}u=t.length;for(l=0;l<u;l++){h=t[l];d=x.style[h];p(h,"-")&&(h=c(h));if(x.style[h]!==i){if(o||a(n,"undefined")){v();return"pfx"!=e||h}try{x.style[h]=n}catch(y){}if(x.style[h]!=d){v();return"pfx"!=e||h}}}v();return false}function T(t,e,i,n,o){var r=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+h.join(r+" ")+r).split(" ");if(a(e,"string")||a(e,"undefined"))return k(s,e,n,o);s=(t+" "+f.join(r+" ")+r).split(" ");return y(s,e,i)}o.testAllProps=T;var $=o.prefixed=function(t,e,i){if(0===t.indexOf("@"))return d(t);-1!=t.indexOf("-")&&(t=c(t));return e?T(t,e,i):T(t,"pfx")};r.addTest("objectfit",!!$("objectFit"),{aliases:["object-fit"]});l();delete o.addTest;delete o.addAsyncTest;for(var E=0;E<r._q.length;E++)r._q[E]();t.Modernizr=r})(window,document);true&&!(i=[],n=function(){return window.Modernizr}.apply(e,i),void 0!==n&&(t.exports=n))},20737:(t,e)=>{var i,n;!(i=[],n=function(){"use strict";var t="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var e=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;var i=new Image;var n="object-fit"in i.style;var o="object-position"in i.style;var r="string"===typeof i.currentSrc;var s=i.getAttribute;var a=i.setAttribute;var l=false;function c(t){var i=getComputedStyle(t).fontFamily;var n=void 0;var o={};while(null!==(n=e.exec(i)))o[n[1]]=n[2];return o}function u(e,i){if(e[t].parsingSrcset)return;var o=c(e);o["object-fit"]=o["object-fit"]||"fill";if(!e[t].s){if("fill"===o["object-fit"])return;if(!e[t].skipTest&&n&&!o["object-position"])return}var a=e[t].ios7src||e.currentSrc||e.src;if(i)a=i;else if(e.srcset&&!r&&window.picturefill){var l=window.picturefill._.ns;e[t].parsingSrcset=true;e[l]&&e[l].evaled||window.picturefill._.fillImg(e,{reselect:true});if(!e[l].curSrc){e[l].supported=false;window.picturefill._.fillImg(e,{reselect:true})}delete e[t].parsingSrcset;a=e[l].curSrc||a}if(e[t].s){e[t].s=a;i&&(e[t].srcAttr=i)}else{e[t]={s:a,srcAttr:i||s.call(e,"src"),srcsetAttr:e.srcset};e.src=t;try{if(e.srcset){e.srcset="";Object.defineProperty(e,"srcset",{value:e[t].srcsetAttr})}h(e)}catch(u){e[t].ios7src=a}}e.style.backgroundImage='url("'+a+'")';e.style.backgroundPosition=o["object-position"]||"center";e.style.backgroundRepeat="no-repeat";if(/scale-down/.test(o["object-fit"])){if(!e[t].i){e[t].i=new Image;e[t].i.src=a}(function i(){if(e[t].i.naturalWidth){e[t].i.naturalWidth>e.width||e[t].i.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto";return}setTimeout(i,100)})()}else e.style.backgroundSize=o["object-fit"].replace("none","auto").replace("fill","100% 100%")}function h(e){var i={get:function i(){return e[t].s},set:function i(n){delete e[t].i;u(e,n);return n}};Object.defineProperty(e,"src",i);Object.defineProperty(e,"currentSrc",{get:i.get})}function d(){if(!o){HTMLImageElement.prototype.getAttribute=function(e){if(this[t]&&("src"===e||"srcset"===e))return this[t][e+"Attr"];return s.call(this,e)};HTMLImageElement.prototype.setAttribute=function(e,i){!this[t]||"src"!==e&&"srcset"!==e?a.call(this,e,i):this["src"===e?"src":e+"Attr"]=String(i)}}}function f(e,i){var n=!l&&!e;i=i||{};e=e||"img";if(o&&!i.skipTest)return false;"string"===typeof e?e=document.querySelectorAll("img"):e.length||(e=[e]);for(var r=0;r<e.length;r++){e[r][t]=e[r][t]||i;u(e[r])}if(n){document.body.addEventListener("load",(function(t){"IMG"===t.target.tagName&&f(t.target,{skipTest:i.skipTest})}),true);l=true;e="img"}i.watchMQ&&window.addEventListener("resize",f.bind(null,e,{skipTest:i.skipTest}))}f.supportsObjectFit=n;f.supportsObjectPosition=o;d();return f}.apply(e,i),void 0!==n&&(t.exports=n))},60236:(t,e,i)=>{var n,o;var r=i(65059);(function(){"use strict";var t=0;var e={};function i(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t;this.options=i.Adapter.extend({},i.defaults,n);this.element=this.options.element;this.adapter=new i.Adapter(this.element);this.callback=n.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;this.triggerPoint=null;this.group=i.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=i.Context.findOrCreateByElement(this.options.context);i.offsetAliases[this.options.offset]&&(this.options.offset=i.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);e[this.key]=this;t+=1}i.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)};i.prototype.trigger=function(t){if(!this.enabled)return;this.callback&&this.callback.apply(this,t)};i.prototype.destroy=function(){this.context.remove(this);this.group.remove(this);delete e[this.key]};i.prototype.disable=function(){this.enabled=false;return this};i.prototype.enable=function(){this.context.refresh();this.enabled=true;return this};i.prototype.next=function(){return this.group.next(this)};i.prototype.previous=function(){return this.group.previous(this)};i.invokeAll=function(t){var i=[];for(var n in e)i.push(e[n]);for(var o=0,r=i.length;o<r;o++)i[o][t]()};i.destroyAll=function(){i.invokeAll("destroy")};i.disableAll=function(){i.invokeAll("disable")};i.enableAll=function(){i.invokeAll("enable")};i.refreshAll=function(){i.Context.refreshAll()};i.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};i.viewportWidth=function(){return document.documentElement.clientWidth};i.adapters=[];i.defaults={context:window,continuous:true,enabled:true,group:"default",horizontal:false,offset:0};i.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=i})();(function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}var e=0;var i={};var n=window.Waypoint;var o=window.onload;function r(t){this.element=t;this.Adapter=n.Adapter;this.adapter=new this.Adapter(t);this.key="waypoint-context-"+e;this.didScroll=false;this.didResize=false;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};t.waypointContextKey=this.key;i[t.waypointContextKey]=this;e+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}r.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t;this.refresh()};r.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal);var e=this.Adapter.isEmptyObject(this.waypoints.vertical);if(t&&e){this.adapter.off(".waypoints");delete i[this.key]}};r.prototype.createThrottledResizeHandler=function(){var t=this;function e(){t.handleResize();t.didResize=false}this.adapter.on("resize.waypoints",(function(){if(!t.didResize){t.didResize=true;n.requestAnimationFrame(e)}}))};r.prototype.createThrottledScrollHandler=function(){var t=this;function e(){t.handleScroll();t.didScroll=false}this.adapter.on("scroll.waypoints",(function(){if(!t.didScroll||n.isTouch){t.didScroll=true;n.requestAnimationFrame(e)}}))};r.prototype.handleResize=function(){n.Context.refreshAll()};r.prototype.handleScroll=function(){var t={};var e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i];var o=n.newScroll>n.oldScroll;var r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];var l=n.oldScroll<a.triggerPoint;var c=n.newScroll>=a.triggerPoint;var u=l&&c;var h=!l&&!c;if(u||h){a.queueTrigger(r);t[a.group.id]=a.group}}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}};r.prototype.innerHeight=function(){if(this.element==this.element.window)return n.viewportHeight();return this.adapter.innerHeight()};r.prototype.remove=function(t){delete this.waypoints[t.axis][t.key];this.checkEmpty()};r.prototype.innerWidth=function(){if(this.element==this.element.window)return n.viewportWidth();return this.adapter.innerWidth()};r.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;n<o;n++)t[n].destroy()};r.prototype.refresh=function(){var t=this.element==this.element.window;var e=t?void 0:this.adapter.offset();var i={};var o;this.handleScroll();o={horizontal:{contextOffset:t?0:e.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:e.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in o){var s=o[r];for(var a in this.waypoints[r]){var l=this.waypoints[r][a];var c=l.options.offset;var u=l.triggerPoint;var h=0;var d=null==u;var f,p,v;var y,g;l.element!==l.element.window&&(h=l.adapter.offset()[s.offsetProp]);if("function"===typeof c)c=c.apply(l);else if("string"===typeof c){c=parseFloat(c);l.options.offset.indexOf("%")>-1&&(c=Math.ceil(s.contextDimension*c/100))}f=s.contextScroll-s.contextOffset;l.triggerPoint=h+f-c;p=u<s.oldScroll;v=l.triggerPoint>=s.oldScroll;y=p&&v;g=!p&&!v;if(!d&&y){l.queueTrigger(s.backward);i[l.group.id]=l.group}else if(!d&&g){l.queueTrigger(s.forward);i[l.group.id]=l.group}else if(d&&s.oldScroll>=l.triggerPoint){l.queueTrigger(s.forward);i[l.group.id]=l.group}}}n.requestAnimationFrame((function(){for(var t in i)i[t].flushTriggers()}));return this};r.findOrCreateByElement=function(t){return r.findByElement(t)||new r(t)};r.refreshAll=function(){for(var t in i)i[t].refresh()};r.findByElement=function(t){return i[t.waypointContextKey]};window.onload=function(){o&&o();r.refreshAll()};n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)};n.Context=r})();(function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}var i={vertical:{},horizontal:{}};var n=window.Waypoint;function o(t){this.name=t.name;this.axis=t.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();i[this.axis][this.name]=this}o.prototype.add=function(t){this.waypoints.push(t)};o.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};o.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i];var o="up"===i||"left"===i;n.sort(o?e:t);for(var r=0,s=n.length;r<s;r+=1){var a=n[r];(a.options.continuous||r===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()};o.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);var o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]};o.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null};o.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)};o.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)};o.prototype.first=function(){return this.waypoints[0]};o.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};o.findOrCreate=function(t){return i[t.axis][t.name]||new o(t)};n.Group=o})();(function(){"use strict";var t=window.Waypoint;function e(t){this.$element=r(t)}r.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(t,i){e.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}));r.each(["extend","inArray","isEmptyObject"],(function(t,i){e[i]=r[i]}));t.adapters.push({name:"jquery",Adapter:e});t.Adapter=e})();(function(){"use strict";var i=window.Waypoint;function s(t){return function(){var e=[];var n=arguments[0];if(t.isFunction(arguments[0])){n=t.extend({},arguments[1]);n.handler=arguments[0]}this.each((function(){var o=t.extend({},n,{element:this});"string"===typeof o.context&&(o.context=t(this).closest(o.context)[0]);e.push(new i(o))}));return e}}r&&(r.fn.waypoint=s(r));window.Zepto&&(window.Zepto.fn.waypoint=s(window.Zepto));true&&!(n=[],o=function(){return window.Waypoint}.apply(e,n),void 0!==o&&(t.exports=o))})()},17994:(t,e,i)=>{t.exports=i(23264)(2238)},62963:(t,e,i)=>{t.exports=i(23264)(3157)},88006:(t,e,i)=>{t.exports=i(21384)(49)},15706:(t,e,i)=>{t.exports=i(23264)(522)},65059:(t,e,i)=>{t.exports=i(23264)(8321)},23264:t=>{"use strict";t.exports=etsy_libs_b4d1730fdf931215e702},21384:t=>{"use strict";t.exports=vendor_bundle_de439cd03f5b2cb43029}};var e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};t[n](r,r.exports,i);return r.exports}(()=>{i.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;i.d(e,{a:e});return e}})();(()=>{i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:true,get:e[n]})}})();(()=>{i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})();var n={};(()=>{"use strict";var t=i(65059);var e=i.n(t);var n=i(15706);const o="fullHeightSection";const r=e()(window);const s=e()("#gnav-header-inner");const a=e()("#cnav-header");const l={bottomTrim:"24"};function c(t,i){this.element=t;this.$element=e()(t);this._defaults=l;this.metadata=this.$element.data();this.options=e().extend(true,{},l,i,this.metadata);this._name=o;this.init()}c.prototype={init(){const t=this;t._updateHeight();r.on("resize",(()=>{t._updateHeight()}))},_updateHeight(){let t=r.height()-this.options.bottomTrim;if("hero"==this.options.fullHeightSection){s.length&&(t-=s.outerHeight());a.length&&(t-=a.outerHeight())}this.$element.css({height:t})}};(0,n["default"])(o,c);const u=null&&c;const h="novaTextWrapper";const d={loadedClassName:"is-loaded"};function f(t,i){this.element=t;this.$element=e()(t);this._defaults=d;this.options=e().extend(true,{},d,i);this._name=h;this.init()}f.prototype={init(){const t=this;t.$element.find(t.options.titleElement).each((function(){e()(this).nextUntil(t.options.titleElement).addBack().wrapAll(`<div class='${t.options.wrapperClassName}'/>`)}));t.$element.addClass(t.options.loadedClassName);t.$element.trigger(`${h}-`+`loaded`)}};(0,n["default"])(h,f);const p=null&&f;var v=i(20737);var y=i.n(v);var g=i(67470);const w=e()(".hero-full-bleed");const m=w.find(".visuals");const _=w.find("video");if(_.length){const t=w.find("video:hidden");const e=w.find("video:visible");t.prop("autoplay",false);const i=e.attr("poster");_.remove();m.css({background:`url("${i}")`,"background-size":"cover"})}e()(".object-fit-cover, .object-position-top, .object-position-bottom").each((function(){y()(this)}));const b=function(t,e=false){const i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};let n=-1;window.addEventListener("scroll",(()=>{if(-1!==n)return;n=i((()=>{t(e?window.scrollY:window.pageYOffset);n=-1}))}));t(e?window.scrollY:window.pageYOffset)};const x=b;const A=function(t){let e=this,i=0,n=false,o=false;function r(){e.updatePoint();o=t.isActive}e.updatePoint=function(){i=t.startPoint();t.endPoint&&(n=t.endPoint())};e.checkPoint=function(e){if(i<e&&(!n||e<n)){if(!o){t.addClassToChildren?t.el.children().addClass(t.addClassToChildren):t.className&&t.el.addClass(t.className);t.on&&t.on(e);o=true}}else if(t.className&&t.el.hasClass(t.className)||o){t.className&&n&&t.el.removeClass(t.className);t.off&&t.off(e);o=false}};r()};const S=A;const C="sectionInView";const k=e()(window);const T=[];let $;let E;let P;const O={addClassWhenInView:"is-active",addClassWhenInViewPercentage:.25,addClassToChildrenWhenInView:false};function I(t,i){this.element=t;this.$element=e()(t);this._defaults=O;this.metadata=this.$element.data();this.options=e().extend(true,{},O,i,this.metadata);this._name=C;this.init()}I.prototype={init(){const t=this;T.push(new S({className:t.options.addClassWhenInView,el:t.$element,addClassToChildren:t.options.addClassToChildrenWhenInView,startPoint(){return t.$element.offset().top-E*(1-t.options.addClassWhenInViewPercentage)}}));z(window.pageYOffset)}};function N(){$=document.body.scrollHeight;E=k.height();P=k.width();for(let t=0;t<T.length;t++)T[t].updatePoint()}function z(t){for(let e=0;e<T.length;e++)T[e].checkPoint(t)}N();k.on("resize",N);k.on("load",(()=>{setTimeout((()=>{z(k.scrollTop());N()}),100)}));x(z);(0,n["default"])(C,I);const H=null&&I;var q=i(60236);var W=i.n(q);let j="stickyNav",L={shouldChangeHistory:true},V=e()(window),R={navGroup:"nav-group",navItem:"nav-group-item",navTarget:"nav-group-item-target",active:"is-active",stuck:"is-stuck",hide:"display-none"},F={ariaCurrent:"aria-current",spacer:"data-sticky-nav-spacer",tabindex:"tabindex"},B={shadowBuffer:10};function D(t,i){this.$nav=e()(t);this._defaults=L;this.metadata=this.$nav.data();this.options=e().extend(true,{},L,i,this.metadata);this._name=j;this.$spacer=this.$nav.siblings(`[${F.spacer}]`);this.$navItems=this.$nav.find(`.${R.navItem}`);this.navHeight=this.$nav.height();this.navOuterHeight=this.$nav.outerHeight();this.waypoints=[];this.isStuck=false;this.hasJumpTargets=false;this.init()}D.prototype={init(){let t=this,i=e()(`#${t.options.stickyNavOffId}`);this.waypoints.push(new(W())({element:t.$spacer,group:"nav",handler:e().proxy(t._toggleStickyNav,t)}));i.length&&this.waypoints.push(new(W())({element:i,group:"nav",handler:e().proxy(t._stickyNavOff,t)}));t.$navItems.each(e().proxy(t._initNavItem,t));V.on("resize",(()=>{W().refreshAll()}))},_initNavItem(t,i){let n=e()(i),o=n.attr("href"),r;if(o.length<=1||"#"!==o[0])return;r=e()(o);this.hasJumpTargets=true;this.waypoints.push(new(W())({element:r,handler:e().proxy(this._toggleNavItem,this,n,"down"),offset:this.navHeight}));this.waypoints.push(new(W())({element:r,handler:e().proxy(this._toggleNavItem,this,n,"up"),offset:"bottom-in-view"}));r[0].hasAttribute(F.tabindex)||r.attr(F.tabindex,"-1");r.addClass(R.navTarget);n.on("click",e().proxy(this._onNavItemClicked,this))},_toggleStickyNav(t){this.isStuck="down"===t;this.$nav.toggleClass(R.stuck,this.isStuck);this.$spacer.css({height:this.isStuck?this.navOuterHeight:0});!this.isStuck&&this.hasJumpTargets&&this._deactivateNavItem(this.$navItems.filter(`.${R.active}`))},_stickyNavOff(t){"down"===t?this.$nav.css({top:-1*this.navOuterHeight-B.shadowBuffer}):this.$nav.css({top:""})},_toggleNavItem(t,e,i){if(i===e){this._deactivateNavItem(this.$nav.find(`.${R.navItem}.${R.active}`));this.isStuck&&this._activateNavItem(t)}},_deactivateNavItem(t){if(!t.length)return;t.removeClass(R.active);t.removeAttr(F.ariaCurrent)},_activateNavItem(t){if(!t.length)return;t.addClass(R.active);t.attr(F.ariaCurrent,"true")},_disableWaypoints(){e().each(this.waypoints,(function(){this.disable()}))},_enableWaypoints(){e().each(this.waypoints,(function(){this.enable()}))},_onNavItemClicked(t){let i=e()(t.currentTarget),n=i.attr("href"),o=e()(n),r=o.offset();t.preventDefault();t.returnValue=false;this._deactivateNavItem(this.$nav.find(`.${R.navItem}.${R.active}`));this._activateNavItem(i);this._disableWaypoints();i.trigger("blur");e()("html, body").animate({scrollTop:r.top},"slow","swing").promise().then(e().proxy(this._scrollComplete,this,o,n))},_scrollComplete(t,e){this._enableWaypoints();if(history&&history.pushState){if(this.options.shouldChangeHistory){if(history.state&&"nav"===history.state.owner&&history.state.module_id===e)return;history.pushState({owner:"nav",module_id:e},null,e)}t.trigger("focus")}else this.options.shouldChangeHistory&&(window.location.hash=e)}};(0,n["default"])(j,D);const Y=null&&D;var M=i(17994);function Q(){e()(document).on("click","[data-track-click]",(t=>{const i=e()(t.target);const n=i.attr("data-event-name");M["default"].logEvent({event_name:n})}))}const K=Q;function U(){const t=e()("[data-track-highlights]");if(0===t.length)return;if(!window.getSelection&&!document.selection)return;e()(document).on("mouseup",(e=>{let i=null;window.getSelection?i=window.getSelection().toString():document.selection&&"Text"===document.selection.type&&(i=document.selection.createRange().text);if(i){const e=t.data("track-highlights")||"text_highlighted";M["default"].logEvent({event_name:e,highlighted_text:i})}}))}const G=U;function J(){const t=e()("[data-track-scroll]");t.each(((t,i)=>{new(W())({element:i,handler(){const t=e()(this.element).attr("data-track-scroll");M["default"].logEvent({event_name:"scrolled_into_view",scroll_target:t});this.disable()},offset:"50%"})}))}const Z=J;var X=i(88006);var tt=i(62963);const et=pt();const it="is-open";const nt="is-mobile";const ot="video-overlay--plays-inline";const rt=350;const st=250;const at="data-video-overlay-trigger";const lt="data-video-overlay-container";const ct="data-video-overlay-close";const ut="data-video-overlay-player";const ht="video_start";const dt="video_complete";const ft=function(t,e,i,n){this.log_event_name=i;this.base=t;this.is_open=false;this.is_transitioning=false;this.is_inline=this.base.classList.contains(ot);this.trigger=this.base.querySelector(`[${at}]`);this.trigger_video=this.trigger.querySelector("video");this.overlay_container=this.base.querySelector(`[${lt}]`);this.overlay_player=this.overlay_container.querySelector(`[${ut}]`);this.overlay_closers=this.overlay_container.querySelectorAll(`[${ct}]`);et&&this.base.classList.add(nt);this.youtube_player=null;this.youtube_id=e;vt(this);this.overlay_focus_trap=(0,X.createFocusTrap)(this.overlay_container,n||{});this.trigger.addEventListener("click",(t=>{t.preventDefault();this.open()}),false);for(let o=0;o<this.overlay_closers.length;o++)this.overlay_closers[o].addEventListener("click",(t=>{t.preventDefault();this.close()}),false)};ft.prototype.open=function(){if(this.is_open||this.is_transitioning)return;document.addEventListener("keydown",this._handleKeyPress.bind(this));this.youtube_player.playVideo();this.overlay_container.style.display="block";this.overlay_container.setAttribute("aria-hidden","false");this.log_event_name&&"string"===typeof this.log_event_name&&M["default"].logEvent({event_name:`${this.log_event_name}_${ht}`});setTimeout((()=>{this.base.classList.add(it);if(!et&&!this.plays_inline){this.overlay_focus_trap.activate();this.overlay_closers.length&&this.overlay_closers[0].focus();this._animateVideoTransition("open")}this.plays_inline}),10);setTimeout((()=>{this.is_open=true;et||this.plays_inline||(this.trigger.style.opacity=0);this.trigger_video&&this.trigger_video.pause()}),rt+st)};ft.prototype.close=function(){if(!this.is_open||this.is_transitioning)return;this.trigger_video&&this.trigger_video.play();document.removeEventListener("keydown",this._handleKeyPress.bind(this));this.youtube_player.pauseVideo();this.base.classList.remove(it);if(!et&&!this.plays_inline){this.trigger.style.opacity=1;this._animateVideoTransition("close")}setTimeout((()=>{if(!et){this.plays_inline||this.overlay_focus_trap.deactivate();this.trigger.focus()}this.overlay_container.style.display="none";this.overlay_container.setAttribute("aria-hidden","true");this.is_open=false}),rt)};ft.prototype._handleKeyPress=function(t){if(!this.is_open)return;let e=false;const i=(t.key||"").toLowerCase();("esc"===i||"escape"===i||t.keyCode===tt["default"].ESC)&&(e=true);e&&this.close()};ft.prototype._animateVideoTransition=function(t){this.is_transitioning=true;const e=this.base.getBoundingClientRect();const i=this.overlay_player.getBoundingClientRect();const n=2;const o=i.left+.5*n-e.left;const r=i.top+.5*n-e.top;const s=(i.width-n)/e.width;const a=(i.height-n)/e.height;const l=`translate3d(${o}px, ${r}px, 0px) scale(${s}, ${a})`;if("open"===t){this.trigger.style.transitionDuration=`${rt}ms`;this.trigger.style.transform=l}if("close"===t){this.trigger.style.transitionDuration="0ms";this.trigger.style.transform=l;setTimeout((()=>{this.trigger.style.transitionDuration=`${rt}ms`;this.trigger.style.transform="translate3d(0px, 0px, 0px) scale(1)"}),5)}setTimeout((()=>{this.is_transitioning=false}),rt)};ft.prototype._loadYouTubeVideo=function(){if(this.youtube_player)return;this.youtube_player=true;const t=document.createElement("div");this.overlay_player.appendChild(t);this.youtube_player=new window.YT.Player(t,{width:"720",height:"405",videoId:this.youtube_id,playerVars:{cc_load_policy:1,modestbranding:1,rel:0,showinfo:0,color:"white",playsinline:0},events:{onStateChange:function(t){if(0===t.data){this.youtube_player.seekTo(0);this.close();this.log_event_name&&"string"===typeof this.log_event_name&&M["default"].logEvent({event_name:`${this.log_event_name}_${dt}`})}et&&2===t.data&&this.close()}.bind(this)}})};function pt(){const t=["iPhone","iPad","iPod"];let e=false;for(let i=0;i<t.length&&!e;i++){const n=t[i].toLowerCase();window.navigator.userAgent.toLowerCase().match(new RegExp(n,"i"))&&(e=true)}return e}window.onYouTubeIframeAPIReady=function(){const t=window._VideoOverlay_current_video_overlays||[];for(let e=0;e<t.length;e++){const i=t[e];i._loadYouTubeVideo()}window._VideoOverlay_youtube_script_is_loaded=true;window._VideoOverlay_current_video_overlays=null};function vt(t){if(window._VideoOverlay_youtube_script_is_loaded){t._loadYouTubeVideo();return}"undefined"===typeof window._VideoOverlay_current_video_overlays&&(window._VideoOverlay_current_video_overlays=[]);window._VideoOverlay_current_video_overlays.push(t);if(window._VideoOverlay_youtube_script_is_loading)return;window._VideoOverlay_youtube_script_is_loading=true;const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}const yt=ft;e()(document).ready((()=>{e()("[data-full-height-section]").fullHeightSection();e()("[data-faq-section]").novaTextWrapper({titleElement:"h4",wrapperClassName:"faq-section-item"});e()("[data-add-class-when-in-view]").sectionInView();e()("[data-sticky-nav]").stickyNav();K();G();Z();[].forEach.call(document.querySelectorAll("[data-video-overlay]:not(.wt-video-overlay)"),(t=>{new yt(t,t.dataset.videoOverlay,t.dataset.eventName)}))}))})()})();
//# sourceMappingURL=https://www.etsy.com/sourcemaps/evergreenVendor/en-US/common/web-toolkit/base-marketing.1d5dbb29d2ee60fb207f.js.map